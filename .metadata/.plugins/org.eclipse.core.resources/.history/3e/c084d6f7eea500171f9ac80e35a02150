package main.magic;

import java.util.ArrayList;
import java.util.List;

import main.attacks.Attack;
import main.attacks.EnumAttackType;
import main.entities.Entity;
import main.util.EnumDirection;
import main.util.Globals;

public class Spell {
	Attack attack = null;
	String name = "";
	int value = 0;
	int manaCost = 0;
	
	EnumDirection d = null;
	
	public Spell(){
		attack = null;
		name = "";
		manaCost = 0;
		
		value = 0;
	}
	
	public Spell(Attack a, String n, int m){
		attack = a;
		name = n;
		manaCost = m;
		
		value = 0;
	}
	
	public List<int[]> squaresTargeted(int x, int y, EnumDirection d){
		List<int[]> hits = new ArrayList<int[]>();
		boolean stopped= false;
		
		while (x + d.getX() >= 0 && x + d.getX() < Globals.currentFloor.getWidth() &&
			   y + d.getY() >= 0 && y + d.getY() < Globals.currentFloor.getHeight() &&
			   !stopped){
			x += d.getX();
			y += d.getY();
			int[] temp = new int[2];
			temp [0] = x;
			temp [1] = y;
			hits.add(temp);
			if (Globals.currentFloor.getTile(x, y).isWall()){
				stopped = true;
			}
			if (Globals.currentFloor.getTile(x, y).getResidentEntity() != null){
				stopped = true;
			}
		}
		
		return hits;
	}

	public void cast (Entity e){
		List<int[]> l = squaresTargeted(e.getX(), e.getY(), )
	}
}
